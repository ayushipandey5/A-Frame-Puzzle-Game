<html>
  <head>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script> 
    <script src="https://unpkg.com/aframe-text-geometry-component@^0.5.0/dist/aframe-text-geometry-component.min.js"></script>  
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
	
    <script src="https://unpkg.com/aframe-simple-link-component/dist/aframe-simple-link-component.min.js"></script>
    
    <script src="https://unpkg.com/aframe-event-set-component@5/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-layout-component@5.3.0/dist/aframe-layout-component.min.js"></script>
    <script src="https://unpkg.com/aframe-template-component@3.2.1/dist/aframe-template-component.min.js"></script>
    <script src="https://unpkg.com/aframe-proxy-event-component@2.1.0/dist/aframe-proxy-event-component.min.js"></script>
    
    
    <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
    <script src="https://rawgit.com/mayognaise/aframe-gif-component/master/dist/aframe-gif-component.min.js"></script>

    <script src="ParseJson.js"></script>
    <script src = "/script.js"></script>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
  </head>
  <body>
    <a-scene loading-screen="enabled:true;
    dotsColor: red;
    backgroundColor: black"
raycaster = "far: 100; objects: .clickable" cursor="rayOrigin: mouse" camera-position>>
          <a-asset-item id="delorean" src="/models/car/scene.gltf"></a-asset-item>

          <img id="sky" src="/images/sky.jpg" crossorigin="anonymous">

          <a-asset-item id = "base" src = "models/Environment.glb"></a-asset-item>
		    	<a-asset-item id = "pedestal" src = "models/Pedestal.glb"></a-asset-item>

          <audio id="tune" src="/music/HOME-Resonance.mp3" preload="auto"></audio>

          <a-asset-item id="road-4-obj" src="/models/Road/4.obj"></a-asset-item>
          <a-asset-item id="road-4-mtl" src="/models/Road/4.mtl"></a-asset-item>

          <a-asset-item id="optimerBoldFont" src="https://rawgit.com/mrdoob/three.js/dev/examples/fonts/optimer_bold.typeface.json"></a-asset-item>
      </a-assets>

      <a-sky src="#sky" rotation="0 -90 0" position="" scale="" visible="" material="" geometry=""></a-sky>
        <!-- <a-box color="#DBC5EF" position="0 1 -7" rotation="0 0 45" scale="1 1 0.05" shader="skyshader" turbidity="3.000"></a-box>
        <a-box color="#DBC5EF" position="-2 1 -7" rotation="0 -5 45" scale="1 1 0.05" shader="skyshader" turbidity="3.000"></a-box>
        <a-box color="#DBC5EF" position="2 1 -7" rotation="0 5 45" scale="1 1 0.05" shader="skyshader" turbidity="3.000"></a-box>
        <a-box color="#DBC5EF" position="-4 1 -7" rotation="0 -10 45" scale="1 1 0.05" shader="skyshader" turbidity="3.000"></a-box>
        <a-box color="#DBC5EF" position="4 1 -7" rotation="0 10 45" scale="1 1 0.05" shader="skyshader" turbidity="3.000"></a-box> -->

      <!-- <a-box color="#DBC5EF" position="-6 2 -7" rotation="0 10 45" scale="1 1 0.05" shader="skyshader" turbidity="3.000"></a-box> -->

      <a-entity id="cam_car" gltf-model="#delorean" 
        position="-3.5 -0.15 30" 
        scale="0.3 0.2 0.3" 
        rotation="0 -90 0" 
        sound="src: #tune ;autoplay : false"
        animation__2 = "property: position; to: -3.5 11.40 -6.5; dur :2000;easing: linear; startEvents: fallclick"
        animation__3 = "property: position; from:-3.5 11.40 -6.5; to: -3.5 11.40 -53.5  ; dur :4000; delay:3000;easing: linear; startEvents: level2">
        <a-entity id="rig" rotation="0 90 0" position="1500 25 0 " trigger>
          <a-camera look-controls wasd-controls="acceleration: 1000;">
            <a-entity
                scale = "0.3 0.3 0.3"
                cursor="fuse: true;"
                material="color: pink; shader: flat"
                position="0 0 -25"
                geometry="primitive: ring;"
                visible="false"
                animation="property: visible; to: true; delay: 5500">
            </a-entity>
          </a-camera>
        </a-entity>
        
        <a-entity rotation="0 90 0" light="type: spot; color:#E4D9F0; intensity: 1; distance: 30; decay: 1"
          position="-3 2 -12.5">
        </a-entity>
      </a-entity>

      <!-- test car -->
      <!-- <a-entity gltf-model="#delorean" 
        position="-3.5 -0.15 25" 
        scale="0.3 0.2 0.3" 
        rotation="0 -90 0" 
        sound="src: #tune ;autoplay : true">
        <a-entity id="rig" rotation="0 90 0" position="11 3.5 -12.5 ">
          <a-camera>
          </a-camera>
        </a-entity>
        <a-entity rotation="0 90 0" light="type: spot; intensity: 0.75; distance: 50; decay: 2"
          position="-3 2 -12.5">
        </a-entity>
      </a-entity> -->
     
      <!-- test camera -->
      <a-entity id="rig" position="0 25 28"  rotation = " -90 0 0">
        <a-camera>
        </a-camera>
      </a-entity>

      <a-entity light="type: ambient; color: #FFFFFF"></a-entity>


 <!-- Road Network for level 1 -->
 <a-entity id="road-1-1" scale = " 0.015 0.015 0.015" rotation = "0 90 0" position =" 0 0 0"  obj-model="obj: #road-4-obj; mtl: #road-4-mtl"></a-entity>
 <a-entity id="road-1-2" scale = " 0.015 0.015 0.015" rotation = "0 90 0" position =" 0 0 9.5"  obj-model="obj: #road-4-obj; mtl: #road-4-mtl"></a-entity>
 <a-entity id="road-1-3" scale = " 0.015 0.015 0.015"  rotation = "0 90 0" position =" 0 0 19"  obj-model="obj: #road-4-obj; mtl: #road-4-mtl"></a-entity>
 <a-entity id="road-1-4" scale = " 0.015 0.015 0.015"  rotation = "0 90 0" position =" 0 0 28.5"  obj-model="obj: #road-4-obj; mtl: #road-4-mtl"></a-entity>
 <a-entity id = "pedestal-1" gltf-model = "#pedestal" position = "0 -1.25 -8.5"
 animation = "property: position; to: 0 10.25 -8.5; dur:2000;easing: linear; startEvents: fallclick"></a-entity>

 <!-- Road Network for level 2 -->
 <a-entity class="road-2" visible="false" scale = " 0.015 0.015 0.015" rotation = "0 90 0" position =" 0 11.5 -18.5"  obj-model="obj: #road-4-obj; mtl: #road-4-mtl"></a-entity>
 <a-entity class="road-2" visible="false" scale = " 0.015 0.015 0.015" rotation = "0 90 0" position =" 0 11.5 -28"  obj-model="obj: #road-4-obj; mtl: #road-4-mtl"></a-entity>
 <a-entity class="road-2" visible="false" scale = " 0.015 0.015 0.015"  rotation = "0 90 0" position =" 0 11.5 -37.5"  obj-model="obj: #road-4-obj; mtl: #road-4-mtl"></a-entity>
 <a-entity class="road-2" visible="false" scale = " 0.015 0.015 0.015"  rotation = "0 90 0" position =" 0 11.5 -47"  obj-model="obj: #road-4-obj; mtl: #road-4-mtl"></a-entity>
 <a-entity id = "pedestal-2" visible="false" gltf-model = "#pedestal" position = "0 10.25 -55.5"></a-entity>


      <!-- Displaying Logo -->
      <a-entity position="-12.5 1 -1" scale="1.5 1.5 1" text-geometry="bevelEnabled:true;bevelSize:0.1;bevelThickness:0.1;curveSegments:1;font:Fonts/exo2Black.typeface.json;height:0.5;size:1.5;value:JUMBLE BUMBLE" material="color:pink;metalness:0.9;roughness:0.05;sphericalEnvMap:https://img.gs/bbdkhfbzkk/2048x1024,stretch/http://i.imgur.com/WMNH2OF.jpg;"></a-entity>
      
      <!--Displaying Letters-->
      <a-entity id="display-letters">
        <!-- <a-entity position="-3.5 2 -16" text-geometry="font:Fonts/helvetiker_regular.typeface.json;height:0;size:1;style:italic;weight:bold;value:A" material="shader:flat;color:white" on-click-letter></a-entity>
        <a-entity position="-2 2 -16" text-geometry="font:Fonts/helvetiker_regular.typeface.json;height:0;size:1;style:italic;weight:bold;value:T" material="shader:flat;color:white"></a-entity>
        <a-entity position="-0.5 2 -16" text-geometry="font:Fonts/helvetiker_regular.typeface.json;height:0;size:1;style:italic;weight:bold;value:S" material="shader:flat;color:white"></a-entity>
        <a-entity position="1 2 -16" text-geometry="font:Fonts/helvetiker_regular.typeface.json;height:0;size:1;style:italic;weight:bold;value:E" material="shader:flat;color:white"></a-entity>
        <a-entity position="2.5 2 -16" text-geometry="font:Fonts/helvetiker_regular.typeface.json;height:0;size:1;style:italic;weight:bold;value:T" material="shader:flat;color:white"></a-entity> --> -->
         <!-- <a-entity position="0 2 -16" scale="0.6 1.2 1" text-geometry="value:HEYA; font:Fonts/exo2Black.typeface.json;"></a-entity> -->
      </a-entity>

      <!-- HALO / SCORE -->
			<a-entity
				geometry="primitive: circle;
						  radius: 1.6;"
				 material="shader:gif;
						   src:url(gifs/portal.gif);
						   side: double;
						   blending: additive;
						   opacity: 0.9"
				position = "10 1.5 -11"
				rotation = "010 -65 0"
				
			    look-at = "#cam"
					  
				navigate-on-click="url: ./home.html", id="fire-ring">
				
				<a-entity 
				  text = "value: SCORE;
						  
						  color: #ffffff;
						  shader: msdf;
						  opacity: 0.9;
						  align: center;
						  wrapCount: 40;
						  font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/montserrat/Montserrat-Regular.json"
				  material = "shader: flat;
							  opacity: 0"
				  look-at = "#cam"
				  position = "0 0 0"
				  rotation = "0 0 0"
				  scale = "5 5 5" id = "score-text">
				</a-entity>
				
			</a-entity>

      <!-- LEVEL       -->
      <a-entity id="level-text" position="-10 1.2 -10" rotation = "10 65 0" text-geometry="" material="opacity:0.4;shader:flat;transparent:true;color:white" level1></a-entity>
      <!-- <a-entity position="-3.5 2 -16" text-geometry="font:Fonts/helvetiker_regular.typeface.json;height:0;size:1;style:italic;weight:bold;value:A" material="shader:flat;color:white"></a-entity>
        <a-entity position="-2 2 -16" text-geometry="font:Fonts/helvetiker_regular.typeface.json;height:0;size:1;style:italic;weight:bold;value:T" material="shader:flat;color:white"></a-entity>
        <a-entity position="-0.5 2 -16" text-geometry="font:Fonts/helvetiker_regular.typeface.json;height:0;size:1;style:italic;weight:bold;value:S" material="shader:flat;color:white"></a-entity>
        <a-entity position="1 2 -16" text-geometry="font:Fonts/helvetiker_regular.typeface.json;height:0;size:1;style:italic;weight:bold;value:E" material="shader:flat;color:white"></a-entity>
        <a-entity position="2.5 2 -16" text-geometry="font:Fonts/helvetiker_regular.typeface.json;height:0;size:1;style:italic;weight:bold;value:T" material="shader:flat;color:white"></a-entity> -->
    
      <!-- CLEAR -->
      <a-entity position="-3.5 7 -16" id="clear-button" text-geometry="font:Fonts/helvetiker_regular.typeface.json;height:0;size:0.7;style:italic;weight:bold;value:Clear" material="shader:flat;color:white" on-click-clear></a-entity>
      <!-- SUBMIT -->
      <a-entity id="submit-text" position="0.5 7 -16" text-geometry="font:Fonts/helvetiker_regular.typeface.json;height:0;size:0.7;style:italic;weight:bold;value:Submit" material="shader:flat;color:white" on-click-submit></a-entity>

      <a-entity position="-3.5 9 -16" id="wrong-word" visible="false" text-geometry="font:Fonts/helvetiker_regular.typeface.json;height:0;size:0.5;style:italic;weight:bold;value:Oopsie daise !! Wrong word" material="shader:flat;color:white" on-click-clear></a-entity>
      <a-entity position="-3.5 9 -16" id="right-word" visible="false" text-geometry="" material="shader:flat;color:white" on-click-clear></a-entity>
      <a-entity position="-2.5 9 -16" id="already-choosen-word" visible="false" text-geometry="font:Fonts/helvetiker_regular.typeface.json;height:0;size:0.5;style:italic;weight:bold;value:You have already choosen that word. Select something else" material="shader:flat;color:white" on-click-clear></a-entity>
      <a-entity position="-7.5 5 -16" id="level-word" visible="false" text-geometry="font:Fonts/helvetiker_regular.typeface.json;height:0;size:0.5;style:italic;weight:bold;value:Yeyyy ..... u've just been upgraded to next level ..... Hold on tight !!" material="shader:flat;color:white"></a-entity>



    </a-scene>
  </body>
</html>
